<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./career.css">

</head>


<body>
    <div id="header-include"></div>
    <script>
    // Netlify AJAX form submission for modal
    document.addEventListener('DOMContentLoaded', function() {
      var form = document.getElementById('jobApplicationForm');
      if (form) {
        form.addEventListener('submit', function(e) {
          e.preventDefault();
          var data = new FormData(form);
          fetch('/', {
            method: 'POST',
            body: data,
            headers: { 'Accept': 'application/x-www-form-urlencoded' }
          })
          .then(function(response) {
            if (response.ok) {
              form.reset();
              document.getElementById('form-success').style.display = 'block';
              setTimeout(function() {
                document.getElementById('job-application-modal').classList.remove('active');
                document.getElementById('form-success').style.display = 'none';
              }, 2500);
            } else {
              alert('There was a problem submitting your application. Please try again.');
            }
          })
          .catch(function() {
            alert('There was a problem submitting your application. Please try again.');
          });
        });
      }
    });
      fetch('header.html')
        .then(res => res.text())
        .then(html => { document.getElementById('header-include').innerHTML = html; });
    </script>
    <section class="team-section">
        <video autoplay muted loop playsinline class="background-video">
            <source src="./src/videos/wydex carrer.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>

        <div class="team-content">
            <h1>Let Our Team<br />Be Your New Team</h1>
            <p>
                We always strive to make a positive difference in everything.
                If thatâ€™s important to you; Webandcrafts would be a good fit
            </p>
            <a href="#" class="team-button">Current openings â†’</a>
        </div>
    </section>

    <section class="openings-section">

        <h2>Current Openings</h2>
        <p>Become part of a high-performing & collaborative team</p>
        <div class="accordion" id="jobsAccordion"></div>

        <div class="openings-button">
            <a href="#">See all openings â†’</a>
        </div>
    </section>
    <section class="values-section">
        <div class="values-left">
            <h2>The Values We Live <br>By</h2>
            <p>We make it a priority to keep our values up-front, anywhere and everywhere.</p>
            <div class="values-icon">
                <!-- Replace with your icon or SVG -->
                <video autoplay muted loop playsinline>
                    <source src="./src/videos/shape.mov" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>

        <div class="values-right">
            <div class="value-item">
                <div class="value-num">01</div>
                <div class="value-content">
                    <h3>Growth</h3>
                    <p>Our vision is to grow together as an organisation while working towards achieving individual and
                        professional goals.</p>
                </div>
            </div>

            <div class="value-item">
                <div class="value-num">02</div>
                <div class="value-content">
                    <h3>People</h3>
                    <p>Our people are the driving force behind all our achievements, and we make it a point to give it
                        back to them.</p>
                </div>
            </div>

             <div class="value-item">
                <div class="value-num">03</div>
                <div class="value-content">
                    <h3>Balance</h3>
                    <p>We value life and its intricate balance, hence ensuring all our people are well balanced in both their professional and personal roles.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="life-wac-section">
  <h2>Life @ WYDEX</h2>
  <p>A place where you can realise your full potential, nurture your dreams, and follow your passion! All of that with a daily dose of fun and laughter</p>

  <div class="life-grid">
    <div class="grid-item">
      <img src="./src/image/helen-ngoc-n-M-sd26hkQZI-unsplash.jpg" alt="Life at WAC 1">
    </div>
    <div class="grid-item">
      <img src="./src/image/helen-ngoc-n-M-sd26hkQZI-unsplash.jpg" alt="Life at WAC 2">
    </div>
    <div class="grid-item">
      <img src="./src/image/helen-ngoc-n-M-sd26hkQZI-unsplash.jpg" alt="Life at WAC 3">
    </div>
    <div class="grid-item">
      <img src="./src/image/helen-ngoc-n-M-sd26hkQZI-unsplash.jpg" alt="Life at WAC 4">
    </div>
    <div class="grid-item">
      <img src="./src/image/helen-ngoc-n-M-sd26hkQZI-unsplash.jpg" alt="Life at WAC 5">
    </div>
    <div class="grid-item see-more">
      <img src="./src/image/helen-ngoc-n-M-sd26hkQZI-unsplash.jpg" alt="Life at WAC 6">
      <div class="overlay">
        <span>See More</span>
      </div>
    </div>
  </div>
</section>
 <section class="perks-section">
  <div class="perks-header">
    <h2>Perks & Benefits</h2>
    <p>We make our employees' well-being our priority, by providing only the best</p>
  </div>

  <div class="perks-grid">
    <div class="perk-item">
      <div class="perk-icon">ðŸ“ˆ</div> <!-- Replace with actual icon or SVG -->
      <h3>Growth Opportunities</h3>
      <p>Keeping our employees growing and prospering is our goal at Webandcrafts, as we believe learning never stops and there is always an opportunity to better ourselves.</p>
    </div>

    <div class="perk-item">
      <div class="perk-icon">ðŸ’µ</div> <!-- Replace with actual icon or SVG -->
      <h3>Competitive Remuneration</h3>
      <p>We recognise the value of our employees' contributions and are committed to rewarding them accordingly, ensuring their continued growth and satisfaction within our organisation.</p>
    </div>

    <div class="perk-item">
      <div class="perk-icon">ðŸŒ¿</div> <!-- Replace with actual icon or SVG -->
      <h3>Eco-friendly Workplace</h3>
      <p>Being surrounded by beautiful trees and nature enhances employees' mental wellbeing and we strive to reduce our carbon footprint in a green environment.</p>
    </div>
  </div>
</section>


    <style>
      .accordion-body { display: none; }
      .accordion {
        border-radius: 8px;
        box-shadow: 0 1px 4px rgba(0,0,0,0.04);
        background: #fff;
        margin: 0 auto;
        max-width: 900px;
        width: 100%;
      }
      .accordion-item {
        border-bottom: 1px solid #ececec;
        background: none;
      }
      .accordion-item:last-child {
        border-bottom: none;
      }
      .accordion-header {
        width: 100%;
        text-align: left;
        background: none;
        border: none;
        outline: none;
        padding: 18px 0 18px 0;
        font-size: 1.08rem;
        font-weight: 500;
        color: #222;
        cursor: pointer;
        transition: color 0.2s;
        letter-spacing: 0.01em;
      }
      .accordion-header:hover, .accordion-item.active .accordion-header {
        color: #007a5e;
        background: none;
      }
      .accordion-body {
        padding: 0 0 18px 0;
        background: none;
        font-size: 0.98rem;
        color: #444;
      }
      .accordion ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .accordion li {
        margin-bottom: 16px;
        padding-left: 0;
      }
      .apply-now-btn {
        background: #007a5e;
        color: #fff;
        border: none;
        border-radius: 4px;
        padding: 7px 16px;
        font-size: 0.97rem;
        margin-top: 8px;
        cursor: pointer;
        transition: background 0.2s;
      }
      .apply-now-btn:hover {
        background: #005f4a;
      }
    </style>
    <script>
    // Fetch jobs from Firestore and render accordion
    function renderJobsAccordion() {
        firebase.firestore().collection("jobs").orderBy("created", "desc").get().then(snapshot => {
            const jobsData = {};
            snapshot.forEach(doc => {
                const job = doc.data();
                // Only show jobs that have a valid category and role
                if (!job.category || !job.role) return;
                if (!job.created) return;
                if (!jobsData[job.category]) jobsData[job.category] = [];
                jobsData[job.category].push(job);
            });
            const accordion = document.getElementById("jobsAccordion");
            accordion.innerHTML = '';
            const categories = Object.keys(jobsData);
            if (categories.length === 0) {
                accordion.innerHTML = '<p style="color:#888;">No job openings at the moment.</p>';
                return;
            }
            categories.forEach(category => {
                const roles = jobsData[category];
                const item = document.createElement('div');
                item.className = 'accordion-item';
                const header = document.createElement('button');
                header.className = 'accordion-header';
                header.type = 'button';
                header.textContent = `${category} (${roles.length})`;
                const body = document.createElement('div');
                body.className = 'accordion-body';
                body.style.display = 'none';
                const ul = document.createElement('ul');
                roles.forEach(job => {
                    const li = document.createElement('li');
                    li.innerHTML = `<strong>${job.role}</strong>` + (job.location ? ` <span style=\"color:#888;font-size:0.95em;\">(${job.location})</span>` : '') + (job.description ? `<br><span style=\"color:#666;font-size:0.95em;\">${job.description}</span>` : '');
                    // Add Apply Now button
                    const applyBtn = document.createElement('button');
                    applyBtn.textContent = 'Apply Now';
                    applyBtn.className = 'apply-now-btn';
                    applyBtn.style.margin = '10px 0 0 0';
                    applyBtn.style.padding = '8px 18px';
                    applyBtn.style.background = '#007a5e';
                    applyBtn.style.color = '#fff';
                    applyBtn.style.border = 'none';
                    applyBtn.style.borderRadius = '4px';
                    applyBtn.style.cursor = 'pointer';
                    applyBtn.type = 'button';
                    applyBtn.onclick = function(e) {
                        e.preventDefault();
                        openJobApplicationModal(job.role, job.location, category);
                    };
                    li.appendChild(document.createElement('br'));
                    li.appendChild(applyBtn);
                    ul.appendChild(li);
                });
                body.appendChild(ul);
                item.appendChild(header);
                item.appendChild(body);
                accordion.appendChild(item);
            });
        });
    }
    document.addEventListener('DOMContentLoaded', renderJobsAccordion);

    // Accordion toggle logic
    document.addEventListener('click', function (e) {
        if (e.target.classList.contains('accordion-header')) {
            const item = e.target.closest('.accordion-item');
            if (!item) return;
            // Hide all other accordions
            document.querySelectorAll('.accordion-item').forEach(otherItem => {
                if (otherItem !== item) {
                    otherItem.classList.remove('active');
                    const otherBody = otherItem.querySelector('.accordion-body');
                    if (otherBody) otherBody.style.display = 'none';
                }
            });
            // Toggle this one
            const body = item.querySelector('.accordion-body');
            if (!body) return;
            const isActive = item.classList.toggle('active');
            body.style.display = isActive ? 'block' : 'none';
        }
    });
    </script>

    <!-- Job Application Modal -->
    <style>
      #job-application-modal {
        display: none;
        position: fixed;
        z-index: 9999;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0,0,0,0.45);
        align-items: center;
        justify-content: center;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.3s cubic-bezier(.77,0,.18,1);
      }
      #job-application-modal.active {
        display: flex;
        pointer-events: auto;
        opacity: 1;
      }
      #job-application-modal.closing {
        pointer-events: none;
        opacity: 0;
      }
      .job-modal-content {
        background: #fff;
        padding: 32px 24px 24px 24px;
        border-radius: 12px;
        max-width: 420px;
        width: 95vw;
        box-shadow: 0 8px 32px rgba(0,0,0,0.18);
        position: fixed;
        top: 0;
        right: 0;
        left: auto;
        color: #000;
        height: 100vh;
        transform: translateX(100%);
        opacity: 0;
        transition: transform 0.45s cubic-bezier(.77,0,.18,1), opacity 0.3s cubic-bezier(.77,0,.18,1);
        z-index: 10000;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      .job-modal-form-row {
        display: flex;
        gap: 14px;
      }
      .job-modal-form-row > div {
        flex: 1 1 0;
      }
      @media (max-width: 600px) {
        .job-modal-form-row {
          flex-direction: column;
          gap: 0;
        }
      }
      
      #job-application-modal.active .job-modal-content {
        transform: translateX(0);
        opacity: 1;
      }
      #job-application-modal.closing .job-modal-content {
        transform: translateX(100%);
        opacity: 0;
        transition: transform 0.45s cubic-bezier(.77,0,.18,1), opacity 0.3s cubic-bezier(.77,0,.18,1);
      }
    </style>
    <div id="job-application-modal">
      <div class="job-modal-content">
        <button id="close-job-modal" style="position:absolute;top:12px;right:12px;background:none;border:none;font-size:1.5rem;cursor:pointer;">&times;</button>
        <h2 style="margin-bottom:18px;font-size:1.4rem;">Apply for <span id="modal-job-title"></span></h2>
        <form id="jobApplicationForm" name="jobApplicationForm" method="POST" data-netlify="true" data-netlify-honeypot="bot-field" enctype="multipart/form-data">
          <input type="hidden" name="form-name" value="jobApplicationForm" />
          <input type="hidden" name="bot-field" />
          <input type="hidden" name="job_role" id="modal-job-role" />
          <input type="hidden" name="job_location" id="modal-job-location" />
          <input type="hidden" name="job_department" id="modal-job-department" />
          <div class="job-modal-form-row" style="margin-bottom:14px;">
            <div>
              <label for="applicantName" style="display:block;margin-bottom:4px;">Name<span style="color:#ef4444;">*</span></label>
              <input type="text" id="applicantName" name="name" required style="width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:5px;">
            </div>
            <div>
              <label for="applicantEmail" style="display:block;margin-bottom:4px;">Email Address<span style="color:#ef4444;">*</span></label>
              <input type="email" id="applicantEmail" name="email" required style="width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:5px;">
            </div>
          </div>
          <div class="job-modal-form-row" style="margin-bottom:14px;">
            <div>
              <label for="applicantPhone" style="display:block;margin-bottom:4px;">Phone Number<span style="color:#ef4444;">*</span></label>
              <input type="tel" id="applicantPhone" name="phone" required pattern="[0-9]{10,15}" inputmode="numeric" style="width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:5px;">
            </div>
            <div>
              <label for="applicantPlace" style="display:block;margin-bottom:4px;">Place<span style="color:#ef4444;">*</span></label>
              <input type="text" id="applicantPlace" name="place" required style="width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:5px;">
            </div>
          </div>
          <div class="job-modal-form-row" style="margin-bottom:14px;">
            <div>
              <label for="applicantDepartment" style="display:block;margin-bottom:4px;">Department<span style="color:#ef4444;">*</span></label>
              <input type="text" id="applicantDepartment" name="department" required style="width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:5px;">
            </div>
            <div>
              <label for="applicantDesignation" style="display:block;margin-bottom:4px;">Designation<span style="color:#ef4444;">*</span></label>
              <input type="text" id="applicantDesignation" name="designation" required style="width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:5px;">
            </div>
          </div>
          <div style="margin-bottom:14px;">
            <label for="resumeFile" style="display:block;margin-bottom:4px;">Resume (PDF, DOC, DOCX, max 10MB)<span style="color:#ef4444;">*</span></label>
            <input type="file" id="resumeFile" name="resume" accept=".pdf,.doc,.docx" required style="width:100%;">
            <div id="resumeFileError" style="color:#ef4444;font-size:0.95em;display:none;margin-top:4px;">File must be less than 10MB.</div>
          </div>
          <div style="margin-bottom:18px;">
            <label for="aboutYourself" style="display:block;margin-bottom:4px;">Tell me about yourself</label>
            <textarea id="aboutYourself" name="about_yourself" rows="4" style="width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:5px;"></textarea>
          </div>
          <button type="submit" style="background:#007a5e;color:#fff;padding:12px 28px;border:none;border-radius:5px;font-size:1rem;cursor:pointer;">Submit Application</button>
        </form>
        <div id="form-success" style="display:none;color:green;margin-top:12px;">
          Thank you! Your application has been submitted.
        </div>
      </div>
    </div>

    <script>
    // Modal logic
    function openJobApplicationModal(role, location, department) {
      document.getElementById('modal-job-title').textContent = role + (location ? ' (' + location + ')' : '');
      document.getElementById('modal-job-role').value = role;
      document.getElementById('modal-job-location').value = location || '';
      document.getElementById('modal-job-department').value = department || '';
      const modal = document.getElementById('job-application-modal');
      modal.classList.remove('closing');
      // Set to display flex immediately, but keep transform at 100% for animation
      modal.style.display = 'flex';
      // Force reflow to ensure the browser registers the initial state
      void modal.offsetWidth;
      modal.classList.add('active');
    }

    function closeJobApplicationModal() {
      const modal = document.getElementById('job-application-modal');
      modal.classList.add('closing');
      setTimeout(() => {
        modal.classList.remove('active');
        modal.classList.remove('closing');
      }, 450); // match the transition duration
    }

    document.getElementById('close-job-modal').onclick = function() {
      closeJobApplicationModal();
    };
    // Close modal on outside click
    document.getElementById('job-application-modal').addEventListener('click', function(e) {
      if (e.target === this) closeJobApplicationModal();
    });
    // Resume file size validation
    document.getElementById('resumeFile').addEventListener('change', function() {
      const file = this.files[0];
      const errorDiv = document.getElementById('resumeFileError');
      if (file && file.size > 10 * 1024 * 1024) {
        errorDiv.style.display = 'block';
        this.value = '';
      } else {
        errorDiv.style.display = 'none';
      }
    });
    </script>

    <!-- Firebase App (the core Firebase SDK) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="js/firebaseConfig.js"></script>
<script>
  // Initialize Firebase using config from the external file
  firebase.initializeApp(window.firebaseConfig);
  const db = firebase.firestore();
</script>



</body>

</html>